{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/avon/Documents/Projects/web/my-recipe/src/components/form_list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport 'antd/dist/antd.css';\nimport { Form, Input, Button, Radio, message } from 'antd';\nimport { useDispatch } from 'redux-react-hook';\nimport RecipeListItem from './recipe_list_item';\nimport { showRecipe } from '../actions';\nconst MOCK_LIST = [{\n  \"title\": \"Copycat Chilis Southwest Egg Rolls Recipe\",\n  \"href\": \"\",\n  \"ingredients\": \"avocado, buttermilk, black beans, cayenne, chicken, chili powder, corn, cumin, dill weed, parsley, flour tortillas, garlic powder, green onion, mayonnaise, monterey jack cheese, onions, onion powder, black pepper, red pepper, avocado, salt, salt, sour cream, spinach, tomato, vegetable oil, white vinegar\",\n  \"thumbnail\": \"\"\n}, {\n  \"title\": \"Vegan Egg White Substitute Recipe\",\n  \"href\": \"http://www.grouprecipes.com/11755/vegan-egg-white-substitute.html\",\n  \"ingredients\": \"flax seed, water\",\n  \"thumbnail\": \"\"\n}];\nexport default function FormList(props) {\n  _s();\n\n  const [myLists, setMyLists] = useState([]);\n  const [myTitle, setMyTitle] = useState('');\n  const [myIngredients, setMyIngredients] = useState('');\n  const [myLink, setMyLink] = useState('');\n  const [myImageLink, setMyImageLink] = useState('');\n  const disPatch = useDispatch();\n  useEffect(() => {\n    // load from storage\n    loadStorage(); // setMyLists(MOCK_LIST) // for test\n  }, [loadStorage]);\n  const formRef = /*#__PURE__*/React.createRef(); // const [form] = Form.useForm();\n  // const formLayout = 'vertical'\n\n  const layout = {\n    labelCol: {\n      span: 8,\n      margin: 20\n    },\n    wrapperCol: {\n      span: 16,\n      margin: 20\n    }\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 8,\n      span: 16\n    }\n  };\n\n  const onFinish = values => {\n    console.log(values);\n  };\n\n  const onReset = () => {\n    formRef.current.resetFields();\n  };\n\n  const loadStorage = () => {\n    let loadDatas = JSON.parse(localStorage.getItem('myDatas'));\n\n    if (loadDatas) {\n      setMyLists(loadDatas);\n    }\n  };\n\n  const saveToStorage = () => {\n    console.log('要來存囉！');\n    let addOne = {\n      \"title\": myTitle,\n      \"href\": myLink !== null && myLink !== void 0 ? myLink : \"\",\n      \"ingredients\": myIngredients,\n      \"thumbnail\": myImageLink !== null && myImageLink !== void 0 ? myImageLink : \"\"\n    };\n    localStorage.setItem('myDatas', JSON.stringify(addOne));\n  };\n\n  const getMyRecipeItems = () => {\n    // console.log('要來列出my list了！！！', myLists)\n    if (myLists.length > 0) {\n      console.log('要開始渲染資料！my!', myLists);\n      return myLists.map(myList => {\n        console.log('每一筆資料 my：：：', myList);\n        return /*#__PURE__*/_jsxDEV(RecipeListItem, {\n          recipe: myList,\n          onRecipeSelect: myList => {\n            if (myList.href.length > 0) {\n              disPatch(showRecipe(myList.href));\n            } else {\n              message.error(`No link here`, 2.5);\n            }\n          }\n        }, myList.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this);\n      });\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n    // <div className=\"search-bar\">\n    //     <input\n    //         autoFocus\n    //         value={term}\n    //         onChange={e => onInputChange(e.target.value)}\n    //         placeholder=\"Search By Ingredients...\"\n    //     />\n    // </div>\n    _jsxDEV(Form // {...formItemLayout}\n    // layout={formLayout}\n    // form={form}\n    , { ...layout,\n      ref: formRef,\n      name: \"control-ref\",\n      onFinish: () => onFinish() // onValuesChange={onFormLayoutChange}\n      ,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"title\",\n        label: \"Recipe Title\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"e.g spaghetti, sushi, fries\",\n          value: myTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"ingredients\",\n        label: \"Ingredients\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"e.g onion, garlic, bread, etc\",\n          value: myIngredients\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"link\",\n        label: \"Recipe Link\",\n        rules: [{\n          required: false\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"recipe link...\",\n          value: myLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"image link\",\n        label: \"Image\",\n        rules: [{\n          required: false\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"recipe image link...\",\n          value: myImageLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailLayout,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginRight: 8\n          },\n          type: \"primary\",\n          htmlType: \"submit\",\n          onClick: () => saveToStorage(),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          htmlType: \"button\",\n          onClick: () => onReset(),\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: getMyRecipeItems()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(FormList, \"6tM8D5p9h9nPViV+4lyav1p4NUg=\", false, function () {\n  return [useDispatch];\n});\n\n_c = FormList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormList\");","map":{"version":3,"sources":["/Users/avon/Documents/Projects/web/my-recipe/src/components/form_list.js"],"names":["React","useState","useEffect","Form","Input","Button","Radio","message","useDispatch","RecipeListItem","showRecipe","MOCK_LIST","FormList","props","myLists","setMyLists","myTitle","setMyTitle","myIngredients","setMyIngredients","myLink","setMyLink","myImageLink","setMyImageLink","disPatch","loadStorage","formRef","createRef","layout","labelCol","span","margin","wrapperCol","tailLayout","offset","onFinish","values","console","log","onReset","current","resetFields","loadDatas","JSON","parse","localStorage","getItem","saveToStorage","addOne","setItem","stringify","getMyRecipeItems","length","map","myList","href","error","title","required","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport 'antd/dist/antd.css';\nimport { Form, Input, Button, Radio, message } from 'antd';\nimport { useDispatch } from 'redux-react-hook'\nimport RecipeListItem from './recipe_list_item'\nimport { showRecipe } from '../actions'\n\nconst MOCK_LIST = [\n    {\n        \"title\": \"Copycat Chilis Southwest Egg Rolls Recipe\",\n        \"href\": \"\",\n        \"ingredients\": \"avocado, buttermilk, black beans, cayenne, chicken, chili powder, corn, cumin, dill weed, parsley, flour tortillas, garlic powder, green onion, mayonnaise, monterey jack cheese, onions, onion powder, black pepper, red pepper, avocado, salt, salt, sour cream, spinach, tomato, vegetable oil, white vinegar\",\n        \"thumbnail\": \"\"\n    },\n    {\n        \"title\": \"Vegan Egg White Substitute Recipe\",\n        \"href\": \"http://www.grouprecipes.com/11755/vegan-egg-white-substitute.html\",\n        \"ingredients\": \"flax seed, water\",\n        \"thumbnail\": \"\"\n    },\n]\n\nexport default function FormList(props) {\n\n    const [myLists, setMyLists] = useState([])\n    const [myTitle, setMyTitle] = useState('')\n    const [myIngredients, setMyIngredients] = useState('')\n    const [myLink, setMyLink] = useState('')\n    const [myImageLink, setMyImageLink] = useState('')\n\n    const disPatch = useDispatch()\n\n    useEffect(() => {\n        // load from storage\n        loadStorage()\n        // setMyLists(MOCK_LIST) // for test\n    }, [loadStorage])\n\n    const formRef = React.createRef();\n    // const [form] = Form.useForm();\n    // const formLayout = 'vertical'\n    const layout = {\n        labelCol: {\n            span: 8,\n            margin: 20\n        },\n        wrapperCol: {\n            span: 16,\n            margin: 20\n        },\n    };\n    const tailLayout = {\n        wrapperCol: {\n            offset: 8,\n            span: 16,\n        },\n    };\n\n    const onFinish = (values) => {\n        console.log(values);\n    };\n    const onReset = () => {\n        formRef.current.resetFields();\n    };\n    const loadStorage = () => {\n        let loadDatas = JSON.parse(localStorage.getItem('myDatas'))\n        if (loadDatas) {\n            setMyLists(loadDatas)\n        }\n    }\n    const saveToStorage = () => {\n        console.log('要來存囉！')\n        let addOne = {\n            \"title\": myTitle,\n            \"href\": myLink ?? \"\",\n            \"ingredients\": myIngredients,\n            \"thumbnail\": myImageLink ?? \"\"\n        }\n\n        localStorage.setItem('myDatas', JSON.stringify(addOne))\n\n    }\n    const getMyRecipeItems = () => {\n        // console.log('要來列出my list了！！！', myLists)\n        if (myLists.length > 0) {\n\n            console.log('要開始渲染資料！my!', myLists)\n            return (myLists.map(myList => {\n                console.log('每一筆資料 my：：：', myList)\n                return (\n                    <RecipeListItem\n                        recipe={myList}\n                        key={myList.title}\n                        onRecipeSelect={myList => {\n                            if (myList.href.length > 0) {\n                                disPatch(showRecipe(myList.href))\n                            } else {\n                                message.error(`No link here`, 2.5);\n                            }\n                        }\n                        }\n                    />\n                )\n            }))\n        }\n    }\n\n    return (\n        // <div className=\"search-bar\">\n        //     <input\n        //         autoFocus\n        //         value={term}\n        //         onChange={e => onInputChange(e.target.value)}\n        //         placeholder=\"Search By Ingredients...\"\n        //     />\n        // </div>\n        <Form\n            // {...formItemLayout}\n            // layout={formLayout}\n            // form={form}\n            {...layout}\n            ref={formRef} name=\"control-ref\" onFinish={() => onFinish()}\n        // onValuesChange={onFormLayoutChange}\n        >\n\n            <Form.Item name=\"title\" label=\"Recipe Title\" rules={[{ required: true }]}>\n                <Input placeholder=\"e.g spaghetti, sushi, fries\" value={myTitle} />\n            </Form.Item>\n            <Form.Item name=\"ingredients\" label=\"Ingredients\" rules={[{ required: true }]}>\n                <Input placeholder=\"e.g onion, garlic, bread, etc\" value={myIngredients} />\n            </Form.Item>\n            <Form.Item name=\"link\" label=\"Recipe Link\" rules={[{ required: false }]}>\n                <Input placeholder=\"recipe link...\" value={myLink} />\n            </Form.Item>\n            <Form.Item name=\"image link\" label=\"Image\" rules={[{ required: false }]}>\n                <Input placeholder=\"recipe image link...\" value={myImageLink} />\n            </Form.Item>\n            <Form.Item {...tailLayout}>\n                <Button style={{ marginRight: 8 }} type=\"primary\" htmlType=\"submit\" onClick={() => saveToStorage()}>Submit</Button>\n                <Button htmlType=\"button\" onClick={() => onReset()}>Reset</Button>\n            </Form.Item>\n\n\n            <ul className=\"list-group\">\n                {getMyRecipeItems()}\n            </ul>\n        </Form >\n\n\n\n    )\n\n\n\n}\n"]},"metadata":{},"sourceType":"module"}